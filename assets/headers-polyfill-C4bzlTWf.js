var R=Object.create,V=Object.defineProperty,D=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,I=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty,z=(a,e)=>function(){return e||(0,a[x(a)[0]])((e={exports:{}}).exports,e),e.exports},L=(a,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of x(e))!T.call(a,i)&&i!==r&&V(a,i,{get:()=>e[i],enumerable:!(o=D(e,i))||o.enumerable});return a},M=(a,e,r)=>(r=a!=null?R(I(a)):{},L(!a||!a.__esModule?V(r,"default",{value:a,enumerable:!0}):r,a)),$=z({"node_modules/set-cookie-parser/lib/set-cookie.js"(a,e){var r={decodeValues:!0,map:!1,silent:!1};function o(t){return typeof t=="string"&&!!t.trim()}function i(t,n){var s=t.split(";").filter(o),f=s.shift(),l=E(f),u=l.name,c=l.value;n=n?Object.assign({},r,n):r;try{c=n.decodeValues?decodeURIComponent(c):c}catch(d){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+c+"'. Set options.decodeValues to false to disable this feature.",d)}var h={name:u,value:c};return s.forEach(function(d){var _=d.split("="),p=_.shift().trimLeft().toLowerCase(),m=_.join("=");p==="expires"?h.expires=new Date(m):p==="max-age"?h.maxAge=parseInt(m,10):p==="secure"?h.secure=!0:p==="httponly"?h.httpOnly=!0:p==="samesite"?h.sameSite=m:h[p]=m}),h}function E(t){var n="",s="",f=t.split("=");return f.length>1?(n=f.shift(),s=f.join("=")):s=t,{name:n,value:s}}function b(t,n){if(n=n?Object.assign({},r,n):r,!t)return n.map?{}:[];if(t.headers)if(typeof t.headers.getSetCookie=="function")t=t.headers.getSetCookie();else if(t.headers["set-cookie"])t=t.headers["set-cookie"];else{var s=t.headers[Object.keys(t.headers).find(function(l){return l.toLowerCase()==="set-cookie"})];!s&&t.headers.cookie&&!n.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),t=s}if(Array.isArray(t)||(t=[t]),n=n?Object.assign({},r,n):r,n.map){var f={};return t.filter(o).reduce(function(l,u){var c=i(u,n);return l[c.name]=c,l},f)}else return t.filter(o).map(function(l){return i(l,n)})}function N(t){if(Array.isArray(t))return t;if(typeof t!="string")return[];var n=[],s=0,f,l,u,c,h;function d(){for(;s<t.length&&/\s/.test(t.charAt(s));)s+=1;return s<t.length}function _(){return l=t.charAt(s),l!=="="&&l!==";"&&l!==","}for(;s<t.length;){for(f=s,h=!1;d();)if(l=t.charAt(s),l===","){for(u=s,s+=1,d(),c=s;s<t.length&&_();)s+=1;s<t.length&&t.charAt(s)==="="?(h=!0,s=c,n.push(t.substring(f,u)),f=s):s=u+1}else s+=1;(!h||s>=t.length)&&n.push(t.substring(f,t.length))}return n}e.exports=b,e.exports.parse=b,e.exports.parseString=i,e.exports.splitCookiesString=N}}),q=M($()),U=/[^a-z0-9\-#$%&'*+.^_`|~]/i;function v(a){if(U.test(a)||a.trim()==="")throw new TypeError("Invalid character in header field name");return a.trim().toLowerCase()}var w=[`
`,"\r","	"," "],W=new RegExp(`(^[${w.join("")}]|$[${w.join("")}])`,"g");function A(a){return a.replace(W,"")}function g(a){if(typeof a!="string"||a.length===0)return!1;for(let e=0;e<a.length;e++){const r=a.charCodeAt(e);if(r>127||!F(r))return!1}return!0}function F(a){return![127,32,"(",")","<",">","@",",",";",":","\\",'"',"/","[","]","?","=","{","}"].includes(a)}function O(a){if(typeof a!="string"||a.trim()!==a)return!1;for(let e=0;e<a.length;e++){const r=a.charCodeAt(e);if(r===0||r===10||r===13)return!1}return!0}var y=Symbol("normalizedHeaders"),C=Symbol("rawHeaderNames"),H=", ",j,k,S,G=class P{constructor(e){this[j]={},this[k]=new Map,this[S]="Headers",["Headers","HeadersPolyfill"].includes(e==null?void 0:e.constructor.name)||e instanceof P||typeof globalThis.Headers<"u"&&e instanceof globalThis.Headers?e.forEach((o,i)=>{this.append(i,o)},this):Array.isArray(e)?e.forEach(([r,o])=>{this.append(r,Array.isArray(o)?o.join(H):o)}):e&&Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];this.append(r,Array.isArray(o)?o.join(H):o)})}[(j=y,k=C,S=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*keys(){for(const[e]of this.entries())yield e}*values(){for(const[,e]of this.entries())yield e}*entries(){let e=Object.keys(this[y]).sort((r,o)=>r.localeCompare(o));for(const r of e)if(r==="set-cookie")for(const o of this.getSetCookie())yield[r,o];else yield[r,this.get(r)]}has(e){if(!g(e))throw new TypeError(`Invalid header name "${e}"`);return this[y].hasOwnProperty(v(e))}get(e){if(!g(e))throw TypeError(`Invalid header name "${e}"`);return this[y][v(e)]??null}set(e,r){if(!g(e)||!O(r))return;const o=v(e),i=A(r);this[y][o]=A(i),this[C].set(o,e)}append(e,r){if(!g(e)||!O(r))return;const o=v(e),i=A(r);let E=this.has(o)?`${this.get(o)}, ${i}`:i;this.set(e,E)}delete(e){if(!g(e)||!this.has(e))return;const r=v(e);delete this[y][r],this[C].delete(r)}forEach(e,r){for(const[o,i]of this.entries())e.call(r,i,o,this)}getSetCookie(){const e=this.get("set-cookie");return e===null?[]:e===""?[""]:(0,q.splitCookiesString)(e)}};export{G as H};
