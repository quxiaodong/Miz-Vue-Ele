var rt=Object.defineProperty;var pe=e=>{throw TypeError(e)};var st=(e,t,r)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var f=(e,t,r)=>st(e,typeof t!="symbol"?t+"":t,r),V=(e,t,r)=>t.has(e)||pe("Cannot "+r);var _=(e,t,r)=>(V(e,t,"read from private field"),r?r.call(e):t.get(e)),Y=(e,t,r)=>t.has(e)?pe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ge=(e,t,r,s)=>(V(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),B=(e,t,r)=>(V(e,t,"access private method"),r);import{u as nt}from"./@open-draft-BbAaxlxc.js";import{f as ot,i as F}from"./outvariant-BBS2yBlX.js";import{E as me}from"./strict-event-emitter-CrFXw_VT.js";import{W as it,g as at,F as ct}from"./@mswjs--W5AcoDd.js";import{s as lt,a as Me,b as Ae}from"./@bundled-es-modules-DDnD6D9h.js";import{m as ut}from"./path-to-regexp-wCvGX3Wm.js";import{i as _e}from"./is-node-process-BZ-2HBMI.js";import{H as dt}from"./headers-polyfill-C4bzlTWf.js";const ht="[MSW]";function ce(e,...t){const r=ot(e,...t);return`${ht} ${r}`}function ft(e,...t){console.warn(ce(e,...t))}function pt(e,...t){console.error(ce(e,...t))}const d={formatMessage:ce,warn:ft,error:pt};class ye extends Error{constructor(t){super(t),this.name="InternalError"}}const gt=/[\/\\]msw[\/\\]src[\/\\](.+)/,mt=/(node_modules)?[\/\\]lib[\/\\](core|browser|node|native|iife)[\/\\]|^[^\/\\]*$/;function yt(e){const t=e.stack;if(!t)return;const s=t.split(`
`).slice(1).find(o=>!(gt.test(o)||mt.test(o)));return s?s.replace(/\s*at [^()]*\(([^)]+)\)/,"$1").replace(/^@/,""):void 0}function wt(e){return e?Reflect.has(e,Symbol.iterator)||Reflect.has(e,Symbol.asyncIterator):!1}const D=class D{constructor(t){f(this,"__kind");f(this,"info");f(this,"isUsed");f(this,"resolver");f(this,"resolverIterator");f(this,"resolverIteratorResult");f(this,"options");this.resolver=t.resolver,this.options=t.options;const r=yt(new Error);this.info={...t.info,callFrame:r},this.isUsed=!1,this.__kind="RequestHandler"}async parse(t){return{}}async test(t){const r=await this.parse({request:t.request,resolutionContext:t.resolutionContext});return this.predicate({request:t.request,parsedResult:r,resolutionContext:t.resolutionContext})}extendResolverArgs(t){return{}}cloneRequestOrGetFromCache(t){const r=D.cache.get(t);if(typeof r<"u")return r;const s=t.clone();return D.cache.set(t,s),s}async run(t){var u,h;if(this.isUsed&&((u=this.options)!=null&&u.once))return null;const r=this.cloneRequestOrGetFromCache(t.request),s=await this.parse({request:t.request,resolutionContext:t.resolutionContext});if(!this.predicate({request:t.request,parsedResult:s,resolutionContext:t.resolutionContext})||this.isUsed&&((h=this.options)!=null&&h.once))return null;this.isUsed=!0;const o=this.wrapResolver(this.resolver),i=this.extendResolverArgs({request:t.request,parsedResult:s}),l=await o({...i,requestId:t.requestId,request:t.request}).catch(p=>{if(p instanceof Response)return p;throw p});return this.createExecutionResult({request:r,requestId:t.requestId,response:l,parsedResult:s})}wrapResolver(t){return async r=>{var i;if(!this.resolverIterator){const a=await t(r);if(!wt(a))return a;this.resolverIterator=Symbol.iterator in a?a[Symbol.iterator]():a[Symbol.asyncIterator]()}this.isUsed=!1;const{done:s,value:n}=await this.resolverIterator.next(),o=await n;return o&&(this.resolverIteratorResult=o.clone()),s?(this.isUsed=!0,(i=this.resolverIteratorResult)==null?void 0:i.clone()):o}}createExecutionResult(t){return{handler:this,request:t.request,requestId:t.requestId,response:t.response,parsedResult:t.parsedResult}}};f(D,"cache",new WeakMap);let N=D;const vt=async({request:e,requestId:t,handlers:r,resolutionContext:s})=>{let n=null,o=null;for(const i of r)if(o=await i.run({request:e,requestId:t,resolutionContext:s}),o!==null&&(n=i),o!=null&&o.response)break;return n?{handler:n,parsedResult:o==null?void 0:o.parsedResult,response:o==null?void 0:o.response}:null};function j(e){if(typeof location>"u")return e.toString();const t=e instanceof URL?e:new URL(e);return t.origin===location.origin?t.pathname:t.origin+t.pathname}function bt(e){const t=new URL(e.url);return t.protocol==="file:"||/(fonts\.googleapis\.com)/.test(t.hostname)||/node_modules/.test(t.pathname)||t.pathname.includes("@vite")?!0:/\.(s?css|less|m?jsx?|m?tsx?|html|ttf|otf|woff|woff2|eot|gif|jpe?g|png|avif|webp|svg|mp4|webm|ogg|mov|mp3|wav|ogg|flac|aac|pdf|txt|csv|json|xml|md|zip|tar|gz|rar|7z)$/i.test(t.pathname)}async function Ue(e,t="warn"){const r=new URL(e.url),s=j(r)+r.search,n=e.method==="HEAD"||e.method==="GET"?null:await e.clone().text(),i=`intercepted a request without a matching request handler:${`

  • ${e.method} ${s}

${n?`  • Request body: ${n}

`:""}`}If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/getting-started/mocks`;function a(l){switch(l){case"error":throw d.error("Error: %s",i),new ye(d.formatMessage('Cannot bypass a request when using the "error" strategy for the "onUnhandledRequest" option.'));case"warn":{d.warn("Warning: %s",i);break}case"bypass":break;default:throw new ye(d.formatMessage('Failed to react to an unhandled request: unknown strategy "%s". Please provide one of the supported strategies ("bypass", "warn", "error") or a custom callback function as the value of the "onUnhandledRequest" option.',l))}}if(typeof t=="function"){t(e,{warning:a.bind(null,"warn"),error:a.bind(null,"error")});return}bt(e)||a(t)}const{Cookie:Et,CookieJar:kt,Store:Rt,MemoryCookieStore:St,domainMatch:Lt,pathMatch:Ct}=lt;class Tt extends Rt{constructor(){super();f(this,"storage");f(this,"storageKey");F(typeof localStorage<"u","Failed to create a WebStorageCookieStore: `localStorage` is not available in this environment. This is likely an issue with MSW. Please report it on GitHub: https://github.com/mswjs/msw/issues"),this.synchronous=!0,this.storage=localStorage,this.storageKey="__msw-cookie-store__"}findCookie(r,s,n,o){try{const i=this.getStore(),a=this.filterCookiesFromList(i,{domain:r,path:s,key:n});o(null,a[0]||null)}catch(i){i instanceof Error&&o(i,null)}}findCookies(r,s,n,o){if(!r){o(null,[]);return}try{const i=this.getStore(),a=this.filterCookiesFromList(i,{domain:r,path:s});o(null,a)}catch(i){i instanceof Error&&o(i,[])}}putCookie(r,s){try{if(r.maxAge===0)return;const n=this.getStore();n.push(r),this.updateStore(n)}catch(n){n instanceof Error&&s(n)}}updateCookie(r,s,n){if(s.maxAge===0){this.removeCookie(s.domain||"",s.path||"",s.key,n);return}this.putCookie(s,n)}removeCookie(r,s,n,o){try{const i=this.getStore(),a=this.deleteCookiesFromList(i,{domain:r,path:s,key:n});this.updateStore(a),o(null)}catch(i){i instanceof Error&&o(i)}}removeCookies(r,s,n){try{const o=this.getStore(),i=this.deleteCookiesFromList(o,{domain:r,path:s});this.updateStore(i),n(null)}catch(o){o instanceof Error&&n(o)}}getAllCookies(r){try{r(null,this.getStore())}catch(s){s instanceof Error&&r(s,[])}}getStore(){try{const r=this.storage.getItem(this.storageKey);if(r==null)return[];const s=JSON.parse(r),n=[];for(const o of s){const i=Et.fromJSON(o);i!=null&&n.push(i)}return n}catch{return[]}}updateStore(r){this.storage.setItem(this.storageKey,JSON.stringify(r.map(s=>s.toJSON())))}filterCookiesFromList(r,s){const n=[];for(const o of r)s.domain&&!Lt(s.domain,o.domain||"")||s.path&&!Ct(s.path,o.path||"")||s.key&&o.key!==s.key||n.push(o);return n}deleteCookiesFromList(r,s){const n=this.filterCookiesFromList(r,s);return r.filter(o=>!n.includes(o))}}const qt=_e()?new St:new Tt,He=new kt(qt),{message:xt}=Me,$e=Symbol("kSetCookie");function C(e={}){const t=(e==null?void 0:e.status)||200,r=(e==null?void 0:e.statusText)||xt[t]||"",s=new Headers(e==null?void 0:e.headers);return{...e,headers:s,status:t,statusText:r}}function Pt(e,t){t.type&&Object.defineProperty(e,"type",{value:t.type,enumerable:!0,writable:!1});const r=t.headers.get("set-cookie");if(r&&(Object.defineProperty(e,$e,{value:r,enumerable:!1,writable:!1}),typeof document<"u")){const s=dt.prototype.getSetCookie.call(t.headers);for(const n of s)document.cookie=n}return e}function It(e,t){const r=Reflect.get(t,$e);r&&He.setCookie(r,e.url)}async function De(e,t,r,s,n,o){var c,u,h,p,g,m;if(n.emit("request:start",{request:e,requestId:t}),(c=e.headers.get("accept"))!=null&&c.includes("msw/passthrough")){n.emit("request:end",{request:e,requestId:t}),(u=o==null?void 0:o.onPassthroughResponse)==null||u.call(o,e);return}const i=await nt(()=>vt({request:e,requestId:t,handlers:r,resolutionContext:o==null?void 0:o.resolutionContext}));if(i.error)throw n.emit("unhandledException",{error:i.error,request:e,requestId:t}),i.error;if(!i.data){await Ue(e,s.onUnhandledRequest),n.emit("request:unhandled",{request:e,requestId:t}),n.emit("request:end",{request:e,requestId:t}),(h=o==null?void 0:o.onPassthroughResponse)==null||h.call(o,e);return}const{response:a}=i.data;if(!a){n.emit("request:end",{request:e,requestId:t}),(p=o==null?void 0:o.onPassthroughResponse)==null||p.call(o,e);return}if(a.status===302&&a.headers.get("x-msw-intention")==="passthrough"){n.emit("request:end",{request:e,requestId:t}),(g=o==null?void 0:o.onPassthroughResponse)==null||g.call(o,e);return}It(e,a),n.emit("request:match",{request:e,requestId:t});const l=i.data;return(m=o==null?void 0:o.onMockedResponse)==null||m.call(o,a,l),n.emit("request:end",{request:e,requestId:t}),a}function Mt(e){return{status:e.status,statusText:e.statusText,headers:Object.fromEntries(e.headers.entries())}}function le(e){return t=>t!=null&&typeof t=="object"&&"__kind"in t&&t.__kind===e}function we(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function je(e,t){return Object.entries(t).reduce((r,[s,n])=>{const o=r[s];return Array.isArray(o)&&Array.isArray(n)?(r[s]=o.concat(n),r):we(o)&&we(n)?(r[s]=je(o,n),r):(r[s]=n,r)},Object.assign({},e))}function At(e,t){const r=e.emit;if(r._isPiped)return;const s=function(o,...i){return t.emit(o,...i),r.call(this,o,...i)};s._isPiped=!0,e.emit=s}function _t(e){const t=[...e];return Object.freeze(t),t}class Ut{constructor(){f(this,"subscriptions",[])}dispose(){let t;for(;t=this.subscriptions.shift();)t()}}class Ht{constructor(t){f(this,"handlers");this.initialHandlers=t,this.handlers=[...t]}prepend(t){this.handlers.unshift(...t)}reset(t){this.handlers=t.length>0?[...t]:[...this.initialHandlers]}currentHandlers(){return this.handlers}}class $t extends Ut{constructor(...r){super();f(this,"handlersController");f(this,"emitter");f(this,"publicEmitter");f(this,"events");F(this.validateHandlers(r),d.formatMessage("Failed to apply given request handlers: invalid input. Did you forget to spread the request handlers Array?")),this.handlersController=new Ht(r),this.emitter=new me,this.publicEmitter=new me,At(this.emitter,this.publicEmitter),this.events=this.createLifeCycleEvents(),this.subscriptions.push(()=>{this.emitter.removeAllListeners(),this.publicEmitter.removeAllListeners()})}validateHandlers(r){return r.every(s=>!Array.isArray(s))}use(...r){F(this.validateHandlers(r),d.formatMessage('Failed to call "use()" with the given request handlers: invalid input. Did you forget to spread the array of request handlers?')),this.handlersController.prepend(r)}restoreHandlers(){this.handlersController.currentHandlers().forEach(r=>{"isUsed"in r&&(r.isUsed=!1)})}resetHandlers(...r){this.handlersController.reset(r)}listHandlers(){return _t(this.handlersController.currentHandlers())}createLifeCycleEvents(){return{on:(...r)=>this.publicEmitter.on(...r),removeListener:(...r)=>this.publicEmitter.removeListener(...r),removeAllListeners:(...r)=>this.publicEmitter.removeAllListeners(...r)}}}const se=new it,Dt=/[\?|#].*$/g;function jt(e){return new URL(`/${e}`,"http://localhost").searchParams}function We(e){return e.endsWith("?")?e:e.replace(Dt,"")}function Wt(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}function Bt(e,t){if(Wt(e)||e.startsWith("*"))return e;const r=t||typeof document<"u"&&document.baseURI;return r?decodeURI(new URL(encodeURI(e),r).href):e}function Ot(e,t){if(e instanceof RegExp)return e;const r=Bt(e,t);return We(r)}function Ft(e){return e.replace(/([:a-zA-Z_-]*)(\*{1,2})+/g,(t,r,s)=>{const n="(.*)";return r?r.startsWith(":")?`${r}${s}`:`${r}${n}`:n}).replace(/([^\/])(:)(?=\d+)/,"$1\\$2").replace(/^([^\/]+)(:)(?=\/\/)/,"$1\\$2")}function Nt(e,t,r){const s=Ot(t,r),n=typeof s=="string"?Ft(s):s,o=at(e),i=ut(n,{decode:decodeURIComponent})(o),a=i&&i.params||{};return{matches:i!==!1,params:a}}const Gt=Symbol("kDispatchEvent");function Xt(e){se.on("connection",async t=>{const r=e.getHandlers(),s=new MessageEvent("connection",{data:t}),n=[];for(const o of r)le("EventHandler")(o)&&o.predicate({event:s,parsedResult:o.parse({event:s})})&&n.push(o);if(n.length>0){e==null||e.onMockedConnection(t);for(const o of n)o[Gt](s)}else{const o=new Request(t.client.url,{headers:{upgrade:"websocket",connection:"upgrade"}});await Ue(o,e.getUnhandledRequestStrategy()).catch(i=>{const a=new Event("error");Object.defineProperty(a,"cause",{enumerable:!0,configurable:!1,value:i}),t.client.socket.dispatchEvent(a)}),e==null||e.onPassthroughConnection(t),t.server.connect()}})}function L(e){const t=new Date,r=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`;return e!=null&&e.milliseconds?`${r}.${t.getMilliseconds().toString().padStart(3,"0")}`:r}function z(e){return e instanceof Blob?e.size:e instanceof ArrayBuffer?e.byteLength:new Blob([e]).size}const ve=24;function Q(e){return e.length<=ve?e:`${e.slice(0,ve)}…`}async function J(e){if(e instanceof Blob){const t=await e.text();return`Blob(${Q(t)})`}if(typeof e=="object"&&"byteLength"in e){const t=new TextDecoder().decode(e);return`ArrayBuffer(${Q(t)})`}return Q(e)}const x={system:"#3b82f6",outgoing:"#22c55e",incoming:"#ef4444",mocked:"#ff6a33"};function zt(e){const{client:t,server:r}=e;Jt(t),t.addEventListener("message",s=>{Yt(s)}),t.addEventListener("close",s=>{Kt(s)}),t.socket.addEventListener("error",s=>{Vt(s)}),t.send=new Proxy(t.send,{apply(s,n,o){const[i]=o,a=new MessageEvent("message",{data:i});return Object.defineProperties(a,{currentTarget:{enumerable:!0,writable:!1,value:t.socket},target:{enumerable:!0,writable:!1,value:t.socket}}),queueMicrotask(()=>{Zt(a)}),Reflect.apply(s,n,o)}}),r.addEventListener("open",()=>{r.addEventListener("message",s=>{er(s)})},{once:!0}),r.send=new Proxy(r.send,{apply(s,n,o){const[i]=o,a=new MessageEvent("message",{data:i});return Object.defineProperties(a,{currentTarget:{enumerable:!0,writable:!1,value:r.socket},target:{enumerable:!0,writable:!1,value:r.socket}}),Qt(a),Reflect.apply(s,n,o)}})}function Jt(e){const t=j(e.url);console.groupCollapsed(d.formatMessage(`${L()} %c▶%c ${t}`),`color:${x.system}`,"color:inherit"),console.log("Client:",e.socket),console.groupEnd()}function Kt(e){const t=e.target,r=j(t.url);console.groupCollapsed(d.formatMessage(`${L({milliseconds:!0})} %c■%c ${r}`),`color:${x.system}`,"color:inherit"),console.log(e),console.groupEnd()}function Vt(e){const t=e.target,r=j(t.url);console.groupCollapsed(d.formatMessage(`${L({milliseconds:!0})} %c×%c ${r}`),`color:${x.system}`,"color:inherit"),console.log(e),console.groupEnd()}async function Yt(e){const t=z(e.data),r=await J(e.data),s=e.defaultPrevented?"⇡":"⬆";console.groupCollapsed(d.formatMessage(`${L({milliseconds:!0})} %c${s}%c ${r} %c${t}%c`),`color:${x.outgoing}`,"color:inherit","color:gray;font-weight:normal","color:inherit;font-weight:inherit"),console.log(e),console.groupEnd()}async function Qt(e){const t=z(e.data),r=await J(e.data);console.groupCollapsed(d.formatMessage(`${L({milliseconds:!0})} %c⬆%c ${r} %c${t}%c`),`color:${x.mocked}`,"color:inherit","color:gray;font-weight:normal","color:inherit;font-weight:inherit"),console.log(e),console.groupEnd()}async function Zt(e){const t=z(e.data),r=await J(e.data);console.groupCollapsed(d.formatMessage(`${L({milliseconds:!0})} %c⬇%c ${r} %c${t}%c`),`color:${x.mocked}`,"color:inherit","color:gray;font-weight:normal","color:inherit;font-weight:inherit"),console.log(e),console.groupEnd()}async function er(e){const t=z(e.data),r=await J(e.data),s=e.defaultPrevented?"⇣":"⬇";console.groupCollapsed(d.formatMessage(`${L({milliseconds:!0})} %c${s}%c ${r} %c${t}%c`),`color:${x.incoming}`,"color:inherit","color:gray;font-weight:normal","color:inherit;font-weight:inherit"),console.log(e),console.groupEnd()}var tr={},rr=/(%?)(%([sdijo]))/g;function sr(e,t){switch(t){case"s":return e;case"d":case"i":return Number(e);case"j":return JSON.stringify(e);case"o":{if(typeof e=="string")return e;const r=JSON.stringify(e);return r==="{}"||r==="[]"||/^\[object .+?\]$/.test(r)?e:r}}}function W(e,...t){if(t.length===0)return e;let r=0,s=e.replace(rr,(n,o,i,a)=>{const l=t[r],c=sr(l,a);return o?n:(r++,c)});return r<t.length&&(s+=` ${t.slice(r).join(" ")}`),s=s.replace(/%{2,2}/g,"%"),s}var nr=2;function or(e){if(!e.stack)return;const t=e.stack.split(`
`);t.splice(1,nr),e.stack=t.join(`
`)}var ir=class extends Error{constructor(e,...t){super(e),this.message=e,this.name="Invariant Violation",this.message=W(e,...t),or(this)}},S=(e,t,...r)=>{if(!e)throw new ir(t,...r)};S.as=(e,t,r,...s)=>{if(!t){const n=s.length===0?r:W(r,...s);let o;try{o=Reflect.construct(e,[n])}catch{o=e(n)}throw o}};function ue(){if(typeof navigator<"u"&&navigator.product==="ReactNative")return!0;if(typeof process<"u"){const e=process.type;return e==="renderer"||e==="worker"?!1:!!(process.versions&&process.versions.node)}return!1}var ne=async e=>{try{return{error:null,data:await e().catch(r=>{throw r})}}catch(t){return{error:t,data:null}}};function ar(e){return new URL(e,location.href).href}function Z(e,t,r){return[e.active,e.installing,e.waiting].filter(i=>i!=null).find(i=>r(i.scriptURL,t))||null}var cr=async(e,t={},r)=>{const s=ar(e),n=await navigator.serviceWorker.getRegistrations().then(a=>a.filter(l=>Z(l,s,r)));!navigator.serviceWorker.controller&&n.length>0&&location.reload();const[o]=n;if(o)return o.update(),[Z(o,s,r),o];const i=await ne(async()=>{const a=await navigator.serviceWorker.register(e,t);return[Z(a,s,r),a]});if(i.error){if(i.error.message.includes("(404)")){const l=new URL((t==null?void 0:t.scope)||"/",location.href);throw new Error(d.formatMessage(`Failed to register a Service Worker for scope ('${l.href}') with script ('${s}'): Service Worker script does not exist at the given path.

Did you forget to run "npx msw init <PUBLIC_DIR>"?

Learn more about creating the Service Worker script: https://mswjs.io/docs/cli/init`))}throw new Error(d.formatMessage(`Failed to register the Service Worker:

%s`,i.error.message))}return i.data};function Be(e={}){if(e.quiet)return;const t=e.message||"Mocking enabled.";console.groupCollapsed(`%c${d.formatMessage(t)}`,"color:orangered;font-weight:bold;"),console.log("%cDocumentation: %chttps://mswjs.io/docs","font-weight:bold","font-weight:normal"),console.log("Found an issue? https://github.com/mswjs/msw/issues"),e.workerUrl&&console.log("Worker script URL:",e.workerUrl),e.workerScope&&console.log("Worker scope:",e.workerScope),e.client&&console.log("Client ID: %s (%s)",e.client.id,e.client.frameType),console.groupEnd()}async function lr(e,t){var s,n;e.workerChannel.send("MOCK_ACTIVATE");const{payload:r}=await e.events.once("MOCKING_ENABLED");if(e.isMockingEnabled){d.warn('Found a redundant "worker.start()" call. Note that starting the worker while mocking is already enabled will have no effect. Consider removing this "worker.start()" call.');return}e.isMockingEnabled=!0,Be({quiet:t.quiet,workerScope:(s=e.registration)==null?void 0:s.scope,workerUrl:(n=e.worker)==null?void 0:n.scriptURL,client:r.client})}var ur=class{constructor(e){this.port=e}postMessage(e,...t){const[r,s]=t;this.port.postMessage({type:e,data:r},{transfer:s})}};function dr(e){if(!["HEAD","GET"].includes(e.method))return e.body}function hr(e){return new Request(e.url,{...e,body:dr(e)})}var fr=(e,t)=>async(r,s)=>{const n=new ur(r.ports[0]),o=s.payload.id,i=hr(s.payload),a=i.clone(),l=i.clone();N.cache.set(i,l),e.requests.set(o,l);try{await De(i,o,e.getRequestHandlers().filter(le("RequestHandler")),t,e.emitter,{onPassthroughResponse(){n.postMessage("PASSTHROUGH")},async onMockedResponse(c,{handler:u,parsedResult:h}){const p=c.clone(),g=c.clone(),m=Mt(c);if(e.supports.readableStreamTransfer){const y=c.body;n.postMessage("MOCK_RESPONSE",{...m,body:y},y?[y]:void 0)}else{const y=c.body===null?null:await p.arrayBuffer();n.postMessage("MOCK_RESPONSE",{...m,body:y})}t.quiet||e.emitter.once("response:mocked",()=>{u.log({request:a,response:g,parsedResult:h})})}})}catch(c){c instanceof Error&&(d.error(`Uncaught exception in the request handler for "%s %s":

%s

This exception has been gracefully handled as a 500 response, however, it's strongly recommended to resolve this error, as it indicates a mistake in your code. If you wish to mock an error response, please see this guide: https://mswjs.io/docs/recipes/mocking-error-responses`,i.method,i.url,c.stack??c),n.postMessage("MOCK_RESPONSE",{status:500,statusText:"Request Handler Error",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.name,message:c.message,stack:c.stack})}))}};async function pr(e){e.workerChannel.send("INTEGRITY_CHECK_REQUEST");const{payload:t}=await e.events.once("INTEGRITY_CHECK_RESPONSE");t.checksum!=="00729d72e3b82faf54ca8b9621dbb96f"&&d.warn(`The currently registered Service Worker has been generated by a different version of MSW (${t.packageVersion}) and may not be fully compatible with the installed version.

It's recommended you update your worker script by running this command:

  • npx msw init <PUBLIC_DIR>

You can also automate this process and make the worker script update automatically upon the library installations. Read more: https://mswjs.io/docs/cli/init.`)}var gr=new TextEncoder;function mr(e){return gr.encode(e)}function yr(e,t){return new TextDecoder(t).decode(e)}function wr(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}var M=Symbol("isPatchedModule"),I=class extends Response{static isConfigurableStatusCode(e){return e>=200&&e<=599}static isRedirectResponse(e){return I.STATUS_CODES_WITH_REDIRECT.includes(e)}static isResponseWithBody(e){return!I.STATUS_CODES_WITHOUT_BODY.includes(e)}static setUrl(e,t){e&&t.url==""&&Object.defineProperty(t,"url",{value:e,enumerable:!0,configurable:!0,writable:!1})}constructor(e,t={}){var r;const s=(r=t.status)!=null?r:200,n=I.isConfigurableStatusCode(s)?s:200,o=I.isResponseWithBody(s)?e:null;if(super(o,{...t,status:n}),s!==n){const i=Object.getOwnPropertySymbols(this).find(a=>a.description==="state");if(i){const a=Reflect.get(this,i);Reflect.set(a,"status",s)}else Object.defineProperty(this,"status",{value:s,enumerable:!0,configurable:!0,writable:!1})}I.setUrl(t.url,this)}},b=I;b.STATUS_CODES_WITHOUT_BODY=[101,103,204,205,304];b.STATUS_CODES_WITH_REDIRECT=[301,302,303,307,308];var vr=Object.defineProperty,br=(e,t)=>{for(var r in t)vr(e,r,{get:t[r],enumerable:!0})},oe={};br(oe,{blue:()=>kr,gray:()=>ie,green:()=>Sr,red:()=>Rr,yellow:()=>Er});function Er(e){return`\x1B[33m${e}\x1B[0m`}function kr(e){return`\x1B[34m${e}\x1B[0m`}function ie(e){return`\x1B[90m${e}\x1B[0m`}function Rr(e){return`\x1B[31m${e}\x1B[0m`}function Sr(e){return`\x1B[32m${e}\x1B[0m`}var K=ue(),Oe=class{constructor(e){f(this,"prefix");this.name=e,this.prefix=`[${this.name}]`;const t=be("DEBUG"),r=be("LOG_LEVEL");t==="1"||t==="true"||typeof t<"u"&&this.name.startsWith(t)?(this.debug=U(r,"debug")?w:this.debug,this.info=U(r,"info")?w:this.info,this.success=U(r,"success")?w:this.success,this.warning=U(r,"warning")?w:this.warning,this.error=U(r,"error")?w:this.error):(this.info=w,this.success=w,this.warning=w,this.error=w,this.only=w)}extend(e){return new Oe(`${this.name}:${e}`)}debug(e,...t){this.logEntry({level:"debug",message:ie(e),positionals:t,prefix:this.prefix,colors:{prefix:"gray"}})}info(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:this.prefix,colors:{prefix:"blue"}});const r=new Lr;return(s,...n)=>{r.measure(),this.logEntry({level:"info",message:`${s} ${ie(`${r.deltaTime}ms`)}`,positionals:n,prefix:this.prefix,colors:{prefix:"blue"}})}}success(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:`✔ ${this.prefix}`,colors:{timestamp:"green",prefix:"green"}})}warning(e,...t){this.logEntry({level:"warning",message:e,positionals:t,prefix:`⚠ ${this.prefix}`,colors:{timestamp:"yellow",prefix:"yellow"}})}error(e,...t){this.logEntry({level:"error",message:e,positionals:t,prefix:`✖ ${this.prefix}`,colors:{timestamp:"red",prefix:"red"}})}only(e){e()}createEntry(e,t){return{timestamp:new Date,level:e,message:t}}logEntry(e){const{level:t,message:r,prefix:s,colors:n,positionals:o=[]}=e,i=this.createEntry(t,r),a=(n==null?void 0:n.timestamp)||"gray",l=(n==null?void 0:n.prefix)||"gray",c={timestamp:oe[a],prefix:oe[l]};this.getWriter(t)([c.timestamp(this.formatTimestamp(i.timestamp))].concat(s!=null?c.prefix(s):[]).concat(Ee(r)).join(" "),...o.map(Ee))}formatTimestamp(e){return`${e.toLocaleTimeString("en-GB")}:${e.getMilliseconds()}`}getWriter(e){switch(e){case"debug":case"success":case"info":return Cr;case"warning":return Tr;case"error":return qr}}},Lr=class{constructor(){f(this,"startTime");f(this,"endTime");f(this,"deltaTime");this.startTime=performance.now()}measure(){this.endTime=performance.now();const e=this.endTime-this.startTime;this.deltaTime=e.toFixed(2)}},w=()=>{};function Cr(e,...t){if(K){process.stdout.write(W(e,...t)+`
`);return}console.log(e,...t)}function Tr(e,...t){if(K){process.stderr.write(W(e,...t)+`
`);return}console.warn(e,...t)}function qr(e,...t){if(K){process.stderr.write(W(e,...t)+`
`);return}console.error(e,...t)}function be(e){var t;return K?tr[e]:(t=globalThis[e])==null?void 0:t.toString()}function U(e,t){return e!==void 0&&e!==t}function Ee(e){return typeof e>"u"?"undefined":e===null?"null":typeof e=="string"?e:typeof e=="object"?JSON.stringify(e):e.toString()}var xr=class extends Error{constructor(e,t,r){super(`Possible EventEmitter memory leak detected. ${r} ${t.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=e,this.type=t,this.count=r,this.name="MaxListenersExceededWarning"}},Fe=class{static listenerCount(e,t){return e.listenerCount(t)}constructor(){this.events=new Map,this.maxListeners=Fe.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1}_emitInternalEvent(e,t,r){this.emit(e,t,r)}_getListeners(e){return Array.prototype.concat.apply([],this.events.get(e))||[]}_removeListener(e,t){const r=e.indexOf(t);return r>-1&&e.splice(r,1),[]}_wrapOnceListener(e,t){const r=(...s)=>(this.removeListener(e,r),t.apply(this,s));return Object.defineProperty(r,"name",{value:t.name}),r}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(e,...t){const r=this._getListeners(e);return r.forEach(s=>{s.apply(this,t)}),r.length>0}addListener(e,t){this._emitInternalEvent("newListener",e,t);const r=this._getListeners(e).concat(t);if(this.events.set(e,r),this.maxListeners>0&&this.listenerCount(e)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;const s=new xr(this,e,this.listenerCount(e));console.warn(s)}return this}on(e,t){return this.addListener(e,t)}once(e,t){return this.addListener(e,this._wrapOnceListener(e,t))}prependListener(e,t){const r=this._getListeners(e);if(r.length>0){const s=[t].concat(r);this.events.set(e,s)}else this.events.set(e,r.concat(t));return this}prependOnceListener(e,t){return this.prependListener(e,this._wrapOnceListener(e,t))}removeListener(e,t){const r=this._getListeners(e);return r.length>0&&(this._removeListener(r,t),this.events.set(e,r),this._emitInternalEvent("removeListener",e,t)),this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return e?this.events.delete(e):this.events.clear(),this}listeners(e){return Array.from(this._getListeners(e))}listenerCount(e){return this._getListeners(e).length}rawListeners(e){return this.listeners(e)}},Ne=Fe;Ne.defaultMaxListeners=10;var Pr="x-interceptors-internal-request-id";function ke(e){return globalThis[e]||void 0}function Ir(e,t){globalThis[e]=t}function Mr(e){delete globalThis[e]}var de=class{constructor(e){this.symbol=e,this.readyState="INACTIVE",this.emitter=new Ne,this.subscriptions=[],this.logger=new Oe(e.description),this.emitter.setMaxListeners(0),this.logger.info("constructing the interceptor...")}checkEnvironment(){return!0}apply(){const e=this.logger.extend("apply");if(e.info("applying the interceptor..."),this.readyState==="APPLIED"){e.info("intercepted already applied!");return}if(!this.checkEnvironment()){e.info("the interceptor cannot be applied in this environment!");return}this.readyState="APPLYING";const r=this.getInstance();if(r){e.info("found a running instance, reusing..."),this.on=(s,n)=>(e.info('proxying the "%s" listener',s),r.emitter.addListener(s,n),this.subscriptions.push(()=>{r.emitter.removeListener(s,n),e.info('removed proxied "%s" listener!',s)}),this),this.readyState="APPLIED";return}e.info("no running instance found, setting up a new instance..."),this.setup(),this.setInstance(),this.readyState="APPLIED"}setup(){}on(e,t){const r=this.logger.extend("on");return this.readyState==="DISPOSING"||this.readyState==="DISPOSED"?(r.info("cannot listen to events, already disposed!"),this):(r.info('adding "%s" event listener:',e,t),this.emitter.on(e,t),this)}once(e,t){return this.emitter.once(e,t),this}off(e,t){return this.emitter.off(e,t),this}removeAllListeners(e){return this.emitter.removeAllListeners(e),this}dispose(){const e=this.logger.extend("dispose");if(this.readyState==="DISPOSED"){e.info("cannot dispose, already disposed!");return}if(e.info("disposing the interceptor..."),this.readyState="DISPOSING",!this.getInstance()){e.info("no interceptors running, skipping dispose...");return}if(this.clearInstance(),e.info("global symbol deleted:",ke(this.symbol)),this.subscriptions.length>0){e.info("disposing of %d subscriptions...",this.subscriptions.length);for(const t of this.subscriptions)t();this.subscriptions=[],e.info("disposed of all subscriptions!",this.subscriptions.length)}this.emitter.removeAllListeners(),e.info("destroyed the listener!"),this.readyState="DISPOSED"}getInstance(){var e;const t=ke(this.symbol);return this.logger.info("retrieved global instance:",(e=t==null?void 0:t.constructor)==null?void 0:e.name),t}setInstance(){Ir(this.symbol,this),this.logger.info("set global instance!",this.symbol.description)}clearInstance(){Mr(this.symbol),this.logger.info("cleared global instance!",this.symbol.description)}};function Ge(){return Math.random().toString(16).slice(2)}var ae=class extends de{constructor(e){ae.symbol=Symbol(e.name),super(ae.symbol),this.interceptors=e.interceptors}setup(){const e=this.logger.extend("setup");e.info("applying all %d interceptors...",this.interceptors.length);for(const t of this.interceptors)e.info('applying "%s" interceptor...',t.constructor.name),t.apply(),e.info("adding interceptor dispose subscription"),this.subscriptions.push(()=>t.dispose())}on(e,t){for(const r of this.interceptors)r.on(e,t);return this}once(e,t){for(const r of this.interceptors)r.once(e,t);return this}off(e,t){for(const r of this.interceptors)r.off(e,t);return this}removeAllListeners(e){for(const t of this.interceptors)t.removeAllListeners(e);return this}};function Ar(e){return(t,r)=>{var a;const{payload:s}=r,{requestId:n}=s,o=e.requests.get(n);if(e.requests.delete(n),(a=s.type)!=null&&a.includes("opaque"))return;const i=s.status===0?Response.error():new b(b.isResponseWithBody(s.status)?s.body:null,{...s,url:o.url});e.emitter.emit(s.isMockedResponse?"response:mocked":"response:bypass",{response:i,request:o,requestId:s.requestId})}}function _r(e,t){!(t!=null&&t.quiet)&&!location.href.startsWith(e.scope)&&d.warn(`Cannot intercept requests on this page because it's outside of the worker's scope ("${e.scope}"). If you wish to mock API requests on this page, you must resolve this scope issue.

- (Recommended) Register the worker at the root level ("/") of your application.
- Set the "Service-Worker-Allowed" response header to allow out-of-scope workers.`)}var Ur=e=>function(r,s){return(async()=>{e.events.removeAllListeners(),e.workerChannel.on("REQUEST",fr(e,r)),e.workerChannel.on("RESPONSE",Ar(e));const i=await cr(r.serviceWorker.url,r.serviceWorker.options,r.findWorker),[a,l]=i;if(!a){const c=s!=null&&s.findWorker?d.formatMessage(`Failed to locate the Service Worker registration using a custom "findWorker" predicate.

Please ensure that the custom predicate properly locates the Service Worker registration at "%s".
More details: https://mswjs.io/docs/api/setup-worker/start#findworker
`,r.serviceWorker.url):d.formatMessage(`Failed to locate the Service Worker registration.

This most likely means that the worker script URL "%s" cannot resolve against the actual public hostname (%s). This may happen if your application runs behind a proxy, or has a dynamic hostname.

Please consider using a custom "serviceWorker.url" option to point to the actual worker script location, or a custom "findWorker" option to resolve the Service Worker registration manually. More details: https://mswjs.io/docs/api/setup-worker/start`,r.serviceWorker.url,location.host);throw new Error(c)}return e.worker=a,e.registration=l,e.events.addListener(window,"beforeunload",()=>{a.state!=="redundant"&&e.workerChannel.send("CLIENT_CLOSED"),window.clearInterval(e.keepAliveInterval),window.postMessage({type:"msw/worker:stop"})}),await pr(e).catch(c=>{d.error("Error while checking the worker script integrity. Please report this on GitHub (https://github.com/mswjs/msw/issues), including the original error below."),console.error(c)}),e.keepAliveInterval=window.setInterval(()=>e.workerChannel.send("KEEPALIVE_REQUEST"),5e3),_r(l,e.startOptions),l})().then(async i=>{const a=i.installing||i.waiting;return a&&await new Promise(l=>{a.addEventListener("statechange",()=>{if(a.state==="activated")return l()})}),await lr(e,r).catch(l=>{throw new Error(`Failed to enable mocking: ${l==null?void 0:l.message}`)}),i})};function Xe(e={}){e.quiet||console.log(`%c${d.formatMessage("Mocking disabled.")}`,"color:orangered;font-weight:bold;")}var Hr=e=>function(){var r;if(!e.isMockingEnabled){d.warn('Found a redundant "worker.stop()" call. Note that stopping the worker while mocking already stopped has no effect. Consider removing this "worker.stop()" call.');return}e.workerChannel.send("MOCK_DEACTIVATE"),e.isMockingEnabled=!1,window.clearInterval(e.keepAliveInterval),window.postMessage({type:"msw/worker:stop"}),Xe({quiet:(r=e.startOptions)==null?void 0:r.quiet})},$r={serviceWorker:{url:"/mockServiceWorker.js",options:null},quiet:!1,waitUntilReady:!0,onUnhandledRequest:"warn",findWorker(e,t){return e===t}};function Dr(){const e=(t,r)=>{e.state="pending",e.resolve=s=>{if(e.state!=="pending")return;e.result=s;const n=o=>(e.state="fulfilled",o);return t(s instanceof Promise?s:Promise.resolve(s).then(n))},e.reject=s=>{if(e.state==="pending")return queueMicrotask(()=>{e.state="rejected"}),r(e.rejectionReason=s)}};return e}var R,A,O,xe,he=(xe=class extends Promise{constructor(t=null){const r=Dr();super((s,n)=>{r(s,n),t==null||t(r.resolve,r.reject)});Y(this,A);Y(this,R);f(this,"resolve");f(this,"reject");ge(this,R,r),this.resolve=_(this,R).resolve,this.reject=_(this,R).reject}get state(){return _(this,R).state}get rejectionReason(){return _(this,R).rejectionReason}then(t,r){return B(this,A,O).call(this,super.then(t,r))}catch(t){return B(this,A,O).call(this,super.catch(t))}finally(t){return B(this,A,O).call(this,super.finally(t))}},R=new WeakMap,A=new WeakSet,O=function(t){return Object.defineProperties(t,{resolve:{configurable:!0,value:this.resolve},reject:{configurable:!0,value:this.reject}})},xe),G=class extends Error{constructor(e){super(e),this.name="InterceptorError",Object.setPrototypeOf(this,G.prototype)}},H=Symbol("kRequestHandled"),v=Symbol("kResponsePromise"),fe=class{constructor(e){this.request=e,this[H]=!1,this[v]=new he}respondWith(e){S.as(G,!this[H],'Failed to respond to the "%s %s" request: the "request" event has already been handled.',this.request.method,this.request.url),this[H]=!0,this[v].resolve(e)}errorWith(e){S.as(G,!this[H],'Failed to error the "%s %s" request: the "request" event has already been handled.',this.request.method,this.request.url),this[H]=!0,this[v].resolve(e)}};async function X(e,t,...r){const s=e.listeners(t);if(s.length!==0)for(const n of s)await n.apply(e,r)}function jr(e,t){try{return e[t],!0}catch{return!1}}function Wr(e){return new Response(JSON.stringify(e instanceof Error?{name:e.name,message:e.message,stack:e.stack}:e),{status:500,statusText:"Unhandled Exception",headers:{"Content-Type":"application/json"}})}function Br(e){return jr(e,"type")&&e.type==="error"}function Or(e){return e==null||!(e instanceof Error)?!1:"code"in e&&"errno"in e}async function ze(e){const t=async o=>(o instanceof Error?e.onError(o):Br(o)?e.onRequestError(o):await e.onResponse(o),!0),r=async o=>{if(o instanceof G)throw n.error;return Or(o)?(e.onError(o),!0):o instanceof Response?await t(o):!1};e.emitter.once("request",({requestId:o})=>{o===e.requestId&&e.controller[v].state==="pending"&&e.controller[v].resolve(void 0)});const s=new he;e.request.signal&&(e.request.signal.aborted?s.reject(e.request.signal.reason):e.request.signal.addEventListener("abort",()=>{s.reject(e.request.signal.reason)},{once:!0}));const n=await ne(async()=>{const o=X(e.emitter,"request",{requestId:e.requestId,request:e.request,controller:e.controller});return await Promise.race([s,o,e.controller[v]]),await e.controller[v]});if(s.state==="rejected")return e.onError(s.rejectionReason),!0;if(n.error){if(await r(n.error))return!0;if(e.emitter.listenerCount("unhandledException")>0){const o=new fe(e.request);await X(e.emitter,"unhandledException",{error:n.error,request:e.request,requestId:e.requestId,controller:o}).then(()=>{o[v].state==="pending"&&o[v].resolve(void 0)});const i=await ne(()=>o[v]);if(i.error)return r(i.error);if(i.data)return t(i.data)}return e.onResponse(Wr(n.error)),!0}return n.data?t(n.data):!1}function Je(e){const t=Object.getOwnPropertyDescriptor(globalThis,e);return typeof t>"u"||typeof t.get=="function"&&typeof t.get()>"u"||typeof t.get>"u"&&t.value==null?!1:typeof t.set>"u"&&!t.configurable?(console.error(`[MSW] Failed to apply interceptor: the global \`${e}\` property is non-configurable. This is likely an issue with your environment. If you are using a framework, please open an issue about this in their repository.`),!1):!0}function Fr(e){try{return new URL(e),!0}catch{return!1}}function q(e){return Object.assign(new TypeError("Failed to fetch"),{cause:e})}var Nr=["content-encoding","content-language","content-location","content-type","content-length"],ee=Symbol("kRedirectCount");async function Gr(e,t){if(t.status!==303&&e.body!=null)return Promise.reject(q());const r=new URL(e.url);let s;try{s=new URL(t.headers.get("location"),e.url)}catch(o){return Promise.reject(q(o))}if(!(s.protocol==="http:"||s.protocol==="https:"))return Promise.reject(q("URL scheme must be a HTTP(S) scheme"));if(Reflect.get(e,ee)>20)return Promise.reject(q("redirect count exceeded"));if(Object.defineProperty(e,ee,{value:(Reflect.get(e,ee)||0)+1}),e.mode==="cors"&&(s.username||s.password)&&!Re(r,s))return Promise.reject(q('cross origin not allowed for request mode "cors"'));const n={};return([301,302].includes(t.status)&&e.method==="POST"||t.status===303&&!["HEAD","GET"].includes(e.method))&&(n.method="GET",n.body=null,Nr.forEach(o=>{e.headers.delete(o)})),Re(r,s)||(e.headers.delete("authorization"),e.headers.delete("proxy-authorization"),e.headers.delete("cookie"),e.headers.delete("host")),n.headers=e.headers,fetch(new Request(s,n))}function Re(e,t){return e.origin===t.origin&&e.origin==="null"||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}var Xr=class extends TransformStream{constructor(){console.warn("[Interceptors]: Brotli decompression of response streams is not supported in the browser"),super({transform(e,t){t.enqueue(e)}})}},zr=class extends TransformStream{constructor(e,...t){super({},...t);const r=[super.readable,...e].reduce((s,n)=>s.pipeThrough(n));Object.defineProperty(this,"readable",{get(){return r}})}};function Jr(e){return e.toLowerCase().split(",").map(t=>t.trim())}function Kr(e){if(e==="")return null;const t=Jr(e);if(t.length===0)return null;const r=t.reduceRight((s,n)=>n==="gzip"||n==="x-gzip"?s.concat(new DecompressionStream("gzip")):n==="deflate"?s.concat(new DecompressionStream("deflate")):n==="br"?s.concat(new Xr):(s.length=0,s),[]);return new zr(r)}function Vr(e){if(e.body===null)return null;const t=Kr(e.headers.get("content-encoding")||"");return t?(e.body.pipeTo(t.writable),t.readable):null}var Ke=class extends de{constructor(){super(Ke.symbol)}checkEnvironment(){return Je("fetch")}async setup(){const e=globalThis.fetch;S(!e[M],'Failed to patch the "fetch" module: already patched.'),globalThis.fetch=async(t,r)=>{const s=Ge(),n=typeof t=="string"&&typeof location<"u"&&!Fr(t)?new URL(t,location.origin):t,o=new Request(n,r),i=new he,a=new fe(o);return this.logger.info("[%s] %s",o.method,o.url),this.logger.info("awaiting for the mocked response..."),this.logger.info('emitting the "request" event for %s listener(s)...',this.emitter.listenerCount("request")),await ze({request:o,requestId:s,emitter:this.emitter,controller:a,onResponse:async c=>{this.logger.info("received mocked response!",{rawResponse:c});const u=Vr(c),h=u===null?c:new b(u,c);if(b.setUrl(o.url,h),b.isRedirectResponse(h.status)){if(o.redirect==="error"){i.reject(q("unexpected redirect"));return}if(o.redirect==="follow"){Gr(o,h).then(p=>{i.resolve(p)},p=>{i.reject(p)});return}}this.emitter.listenerCount("response")>0&&(this.logger.info('emitting the "response" event...'),await X(this.emitter,"response",{response:h.clone(),isMockedResponse:!0,request:o,requestId:s})),i.resolve(h)},onRequestError:c=>{this.logger.info("request has errored!",{response:c}),i.reject(q(c))},onError:c=>{this.logger.info("request has been aborted!",{error:c}),i.reject(c)}})?(this.logger.info("request has been handled, returning mock promise..."),i):(this.logger.info("no mocked response received, performing request as-is..."),e(o).then(async c=>{if(this.logger.info("original fetch performed",c),this.emitter.listenerCount("response")>0){this.logger.info('emitting the "response" event...');const u=c.clone();await X(this.emitter,"response",{response:u,isMockedResponse:!1,request:o,requestId:s})}return c}))},Object.defineProperty(globalThis.fetch,M,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis.fetch,M,{value:void 0}),globalThis.fetch=e,this.logger.info('restored native "globalThis.fetch"!',globalThis.fetch.name)})}},Ve=Ke;Ve.symbol=Symbol("fetch");function Yr(e,t){const r=new Uint8Array(e.byteLength+t.byteLength);return r.set(e,0),r.set(t,e.byteLength),r}var Ye=class{constructor(e,t){this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.type="",this.srcElement=null,this.currentTarget=null,this.eventPhase=0,this.isTrusted=!0,this.composed=!1,this.cancelable=!0,this.defaultPrevented=!1,this.bubbles=!0,this.lengthComputable=!0,this.loaded=0,this.total=0,this.cancelBubble=!1,this.returnValue=!0,this.type=e,this.target=(t==null?void 0:t.target)||null,this.currentTarget=(t==null?void 0:t.currentTarget)||null,this.timeStamp=Date.now()}composedPath(){return[]}initEvent(e,t,r){this.type=e,this.bubbles=!!t,this.cancelable=!!r}preventDefault(){this.defaultPrevented=!0}stopPropagation(){}stopImmediatePropagation(){}},Qr=class extends Ye{constructor(e,t){super(e),this.lengthComputable=(t==null?void 0:t.lengthComputable)||!1,this.composed=(t==null?void 0:t.composed)||!1,this.loaded=(t==null?void 0:t.loaded)||0,this.total=(t==null?void 0:t.total)||0}},Zr=typeof ProgressEvent<"u";function es(e,t,r){const s=["error","progress","loadstart","loadend","load","timeout","abort"],n=Zr?ProgressEvent:Qr;return s.includes(t)?new n(t,{lengthComputable:!0,loaded:(r==null?void 0:r.loaded)||0,total:(r==null?void 0:r.total)||0}):new Ye(t,{target:e,currentTarget:e})}function Qe(e,t){if(!(t in e))return null;if(Object.prototype.hasOwnProperty.call(e,t))return e;const s=Reflect.getPrototypeOf(e);return s?Qe(s,t):null}function te(e,t){return new Proxy(e,ts(t))}function ts(e){const{constructorCall:t,methodCall:r,getProperty:s,setProperty:n}=e,o={};return typeof t<"u"&&(o.construct=function(i,a,l){const c=Reflect.construct.bind(null,i,a,l);return t.call(l,a,c)}),o.set=function(i,a,l){const c=()=>{const u=Qe(i,a)||i,h=Reflect.getOwnPropertyDescriptor(u,a);return typeof(h==null?void 0:h.set)<"u"?(h.set.apply(i,[l]),!0):Reflect.defineProperty(u,a,{writable:!0,enumerable:!0,configurable:!0,value:l})};return typeof n<"u"?n.call(i,[a,l],c):c()},o.get=function(i,a,l){const c=()=>i[a],u=typeof s<"u"?s.call(i,[a,l],c):c();return typeof u=="function"?(...h)=>{const p=u.bind(i,...h);return typeof r<"u"?r.call(i,[a,h],p):p()}:u},o}function rs(e){return["application/xhtml+xml","application/xml","image/svg+xml","text/html","text/xml"].some(r=>e.startsWith(r))}function ss(e){try{return JSON.parse(e)}catch{return null}}function ns(e,t){const r=b.isResponseWithBody(e.status)?t:null;return new b(r,{url:e.responseURL,status:e.status,statusText:e.statusText,headers:os(e.getAllResponseHeaders())})}function os(e){const t=new Headers,r=e.split(/[\r\n]+/);for(const s of r){if(s.trim()==="")continue;const[n,...o]=s.split(": "),i=o.join(": ");t.append(n,i)}return t}async function Se(e){const t=e.headers.get("content-length");return t!=null&&t!==""?Number(t):(await e.arrayBuffer()).byteLength}var $=Symbol("kIsRequestHandled"),is=ue(),re=Symbol("kFetchRequest"),as=class{constructor(e,t){this.initialRequest=e,this.logger=t,this.method="GET",this.url=null,this[$]=!1,this.events=new Map,this.uploadEvents=new Map,this.requestId=Ge(),this.requestHeaders=new Headers,this.responseBuffer=new Uint8Array,this.request=te(e,{setProperty:([r,s],n)=>{switch(r){case"ontimeout":{const o=r.slice(2);return this.request.addEventListener(o,s),n()}default:return n()}},methodCall:([r,s],n)=>{var o;switch(r){case"open":{const[i,a]=s;return typeof a>"u"?(this.method="GET",this.url=Le(i)):(this.method=i,this.url=Le(a)),this.logger=this.logger.extend(`${this.method} ${this.url.href}`),this.logger.info("open",this.method,this.url.href),n()}case"addEventListener":{const[i,a]=s;return this.registerEvent(i,a),this.logger.info("addEventListener",i,a),n()}case"setRequestHeader":{const[i,a]=s;return this.requestHeaders.set(i,a),this.logger.info("setRequestHeader",i,a),n()}case"send":{const[i]=s;this.request.addEventListener("load",()=>{if(typeof this.onResponse<"u"){const u=ns(this.request,this.request.response);this.onResponse.call(this,{response:u,isMockedResponse:this[$],request:l,requestId:this.requestId})}});const a=typeof i=="string"?mr(i):i,l=this.toFetchApiRequest(a);this[re]=l.clone(),(((o=this.onRequest)==null?void 0:o.call(this,{request:l,requestId:this.requestId}))||Promise.resolve()).finally(()=>{if(!this[$])return this.logger.info("request callback settled but request has not been handled (readystate %d), performing as-is...",this.request.readyState),is&&this.request.setRequestHeader(Pr,this.requestId),n()});break}default:return n()}}}),P(this.request,"upload",te(this.request.upload,{setProperty:([r,s],n)=>{switch(r){case"onloadstart":case"onprogress":case"onaboart":case"onerror":case"onload":case"ontimeout":case"onloadend":{const o=r.slice(2);this.registerUploadEvent(o,s)}}return n()},methodCall:([r,s],n)=>{switch(r){case"addEventListener":{const[o,i]=s;return this.registerUploadEvent(o,i),this.logger.info("upload.addEventListener",o,i),n()}}}}))}registerEvent(e,t){const s=(this.events.get(e)||[]).concat(t);this.events.set(e,s),this.logger.info('registered event "%s"',e,t)}registerUploadEvent(e,t){const s=(this.uploadEvents.get(e)||[]).concat(t);this.uploadEvents.set(e,s),this.logger.info('registered upload event "%s"',e,t)}async respondWith(e){if(this[$]=!0,this[re]){const s=await Se(this[re]);this.trigger("loadstart",this.request.upload,{loaded:0,total:s}),this.trigger("progress",this.request.upload,{loaded:s,total:s}),this.trigger("load",this.request.upload,{loaded:s,total:s}),this.trigger("loadend",this.request.upload,{loaded:s,total:s})}this.logger.info("responding with a mocked response: %d %s",e.status,e.statusText),P(this.request,"status",e.status),P(this.request,"statusText",e.statusText),P(this.request,"responseURL",this.url.href),this.request.getResponseHeader=new Proxy(this.request.getResponseHeader,{apply:(s,n,o)=>{if(this.logger.info("getResponseHeader",o[0]),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning null"),null;const i=e.headers.get(o[0]);return this.logger.info('resolved response header "%s" to',o[0],i),i}}),this.request.getAllResponseHeaders=new Proxy(this.request.getAllResponseHeaders,{apply:()=>{if(this.logger.info("getAllResponseHeaders"),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning empty string"),"";const n=Array.from(e.headers.entries()).map(([o,i])=>`${o}: ${i}`).join(`\r
`);return this.logger.info("resolved all response headers to",n),n}}),Object.defineProperties(this.request,{response:{enumerable:!0,configurable:!1,get:()=>this.response},responseText:{enumerable:!0,configurable:!1,get:()=>this.responseText},responseXML:{enumerable:!0,configurable:!1,get:()=>this.responseXML}});const t=await Se(e.clone());this.logger.info("calculated response body length",t),this.trigger("loadstart",this.request,{loaded:0,total:t}),this.setReadyState(this.request.HEADERS_RECEIVED),this.setReadyState(this.request.LOADING);const r=()=>{this.logger.info("finalizing the mocked response..."),this.setReadyState(this.request.DONE),this.trigger("load",this.request,{loaded:this.responseBuffer.byteLength,total:t}),this.trigger("loadend",this.request,{loaded:this.responseBuffer.byteLength,total:t})};if(e.body){this.logger.info("mocked response has body, streaming...");const s=e.body.getReader(),n=async()=>{const{value:o,done:i}=await s.read();if(i){this.logger.info("response body stream done!"),r();return}o&&(this.logger.info("read response body chunk:",o),this.responseBuffer=Yr(this.responseBuffer,o),this.trigger("progress",this.request,{loaded:this.responseBuffer.byteLength,total:t})),n()};n()}else r()}responseBufferToText(){return yr(this.responseBuffer)}get response(){if(this.logger.info("getResponse (responseType: %s)",this.request.responseType),this.request.readyState!==this.request.DONE)return null;switch(this.request.responseType){case"json":{const e=ss(this.responseBufferToText());return this.logger.info("resolved response JSON",e),e}case"arraybuffer":{const e=wr(this.responseBuffer);return this.logger.info("resolved response ArrayBuffer",e),e}case"blob":{const e=this.request.getResponseHeader("Content-Type")||"text/plain",t=new Blob([this.responseBufferToText()],{type:e});return this.logger.info("resolved response Blob (mime type: %s)",t,e),t}default:{const e=this.responseBufferToText();return this.logger.info('resolving "%s" response type as text',this.request.responseType,e),e}}}get responseText(){if(S(this.request.responseType===""||this.request.responseType==="text","InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.LOADING&&this.request.readyState!==this.request.DONE)return"";const e=this.responseBufferToText();return this.logger.info('getResponseText: "%s"',e),e}get responseXML(){if(S(this.request.responseType===""||this.request.responseType==="document","InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.DONE)return null;const e=this.request.getResponseHeader("Content-Type")||"";return typeof DOMParser>"u"?(console.warn("Cannot retrieve XMLHttpRequest response body as XML: DOMParser is not defined. You are likely using an environment that is not browser or does not polyfill browser globals correctly."),null):rs(e)?new DOMParser().parseFromString(this.responseBufferToText(),e):null}errorWith(e){this[$]=!0,this.logger.info("responding with an error"),this.setReadyState(this.request.DONE),this.trigger("error",this.request),this.trigger("loadend",this.request)}setReadyState(e){if(this.logger.info("setReadyState: %d -> %d",this.request.readyState,e),this.request.readyState===e){this.logger.info("ready state identical, skipping transition...");return}P(this.request,"readyState",e),this.logger.info("set readyState to: %d",e),e!==this.request.UNSENT&&(this.logger.info('triggerring "readystatechange" event...'),this.trigger("readystatechange",this.request))}trigger(e,t,r){const s=t[`on${e}`],n=es(t,e,r);this.logger.info('trigger "%s"',e,r||""),typeof s=="function"&&(this.logger.info('found a direct "%s" callback, calling...',e),s.call(t,n));const o=t instanceof XMLHttpRequestUpload?this.uploadEvents:this.events;for(const[i,a]of o)i===e&&(this.logger.info('found %d listener(s) for "%s" event, calling...',a.length,e),a.forEach(l=>l.call(t,n)))}toFetchApiRequest(e){this.logger.info("converting request to a Fetch API Request...");const t=e instanceof Document?e.documentElement.innerText:e,r=new Request(this.url.href,{method:this.method,headers:this.requestHeaders,credentials:this.request.withCredentials?"include":"same-origin",body:["GET","HEAD"].includes(this.method.toUpperCase())?null:t}),s=te(r.headers,{methodCall:([n,o],i)=>{switch(n){case"append":case"set":{const[a,l]=o;this.request.setRequestHeader(a,l);break}case"delete":{const[a]=o;console.warn(`XMLHttpRequest: Cannot remove a "${a}" header from the Fetch API representation of the "${r.method} ${r.url}" request. XMLHttpRequest headers cannot be removed.`);break}}return i()}});return P(r,"headers",s),this.logger.info("converted request to a Fetch API Request!",r),r}};function Le(e){return typeof location>"u"?new URL(e):new URL(e.toString(),location.href)}function P(e,t,r){Reflect.defineProperty(e,t,{writable:!0,enumerable:!0,value:r})}function cs({emitter:e,logger:t}){return new Proxy(globalThis.XMLHttpRequest,{construct(s,n,o){t.info("constructed new XMLHttpRequest");const i=Reflect.construct(s,n,o),a=Object.getOwnPropertyDescriptors(s.prototype);for(const c in a)Reflect.defineProperty(i,c,a[c]);const l=new as(i,t);return l.onRequest=async function({request:c,requestId:u}){const h=new fe(c);this.logger.info("awaiting mocked response..."),this.logger.info('emitting the "request" event for %s listener(s)...',e.listenerCount("request")),await ze({request:c,requestId:u,controller:h,emitter:e,onResponse:async g=>{await this.respondWith(g)},onRequestError:()=>{this.errorWith(new TypeError("Network error"))},onError:g=>{this.logger.info("request errored!",{error:g}),g instanceof Error&&this.errorWith(g)}})||this.logger.info("no mocked response received, performing request as-is...")},l.onResponse=async function({response:c,isMockedResponse:u,request:h,requestId:p}){this.logger.info('emitting the "response" event for %s listener(s)...',e.listenerCount("response")),e.emit("response",{response:c,isMockedResponse:u,request:h,requestId:p})},l.request}})}var Ze=class extends de{constructor(){super(Ze.interceptorSymbol)}checkEnvironment(){return Je("XMLHttpRequest")}setup(){const e=this.logger.extend("setup");e.info('patching "XMLHttpRequest" module...');const t=globalThis.XMLHttpRequest;S(!t[M],'Failed to patch the "XMLHttpRequest" module: already patched.'),globalThis.XMLHttpRequest=cs({emitter:this.emitter,logger:this.logger}),e.info('native "XMLHttpRequest" module patched!',globalThis.XMLHttpRequest.name),Object.defineProperty(globalThis.XMLHttpRequest,M,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis.XMLHttpRequest,M,{value:void 0}),globalThis.XMLHttpRequest=t,e.info('native "XMLHttpRequest" module restored!',globalThis.XMLHttpRequest.name)})}},et=Ze;et.interceptorSymbol=Symbol("xhr");function ls(e,t){const r=new ae({name:"fallback",interceptors:[new Ve,new et]});return r.on("request",async({request:s,requestId:n,controller:o})=>{const i=s.clone(),a=await De(s,n,e.getRequestHandlers().filter(le("RequestHandler")),t,e.emitter,{onMockedResponse(l,{handler:c,parsedResult:u}){t.quiet||e.emitter.once("response:mocked",({response:h})=>{c.log({request:i,response:h,parsedResult:u})})}});a&&o.respondWith(a)}),r.on("response",({response:s,isMockedResponse:n,request:o,requestId:i})=>{e.emitter.emit(n?"response:mocked":"response:bypass",{response:s,request:o,requestId:i})}),r.apply(),r}function us(e){return async function(r){e.fallbackInterceptor=ls(e,r),Be({message:"Mocking enabled (fallback mode).",quiet:r.quiet})}}function ds(e){return function(){var r,s;(r=e.fallbackInterceptor)==null||r.dispose(),Xe({quiet:(s=e.startOptions)==null?void 0:s.quiet})}}function hs(){try{const e=new ReadableStream({start:r=>r.close()});return new MessageChannel().port1.postMessage(e,[e]),!0}catch{return!1}}var fs=class extends $t{constructor(...t){super(...t);f(this,"context");f(this,"startHandler",null);f(this,"stopHandler",null);f(this,"listeners");S(!ue(),d.formatMessage("Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead.")),this.listeners=[],this.context=this.createWorkerContext()}createWorkerContext(){const t={isMockingEnabled:!1,startOptions:null,worker:null,getRequestHandlers:()=>this.handlersController.currentHandlers(),registration:null,requests:new Map,emitter:this.emitter,workerChannel:{on:(r,s)=>{this.context.events.addListener(navigator.serviceWorker,"message",n=>{if(n.source!==this.context.worker)return;const o=n.data;o&&o.type===r&&s(n,o)})},send:r=>{var s;(s=this.context.worker)==null||s.postMessage(r)}},events:{addListener:(r,s,n)=>(r.addEventListener(s,n),this.listeners.push({eventType:s,target:r,callback:n}),()=>{r.removeEventListener(s,n)}),removeAllListeners:()=>{for(const{target:r,eventType:s,callback:n}of this.listeners)r.removeEventListener(s,n);this.listeners=[]},once:r=>{const s=[];return new Promise((n,o)=>{const i=a=>{try{const l=a.data;l.type===r&&n(l)}catch(l){o(l)}};s.push(this.context.events.addListener(navigator.serviceWorker,"message",i),this.context.events.addListener(navigator.serviceWorker,"messageerror",o))}).finally(()=>{s.forEach(n=>n())})}},supports:{serviceWorkerApi:!("serviceWorker"in navigator)||location.protocol==="file:",readableStreamTransfer:hs()}};return this.startHandler=t.supports.serviceWorkerApi?us(t):Ur(t),this.stopHandler=t.supports.serviceWorkerApi?ds(t):Hr(t),t}async start(t={}){return t.waitUntilReady===!0&&d.warn('The "waitUntilReady" option has been deprecated. Please remove it from this "worker.start()" call. Follow the recommended Browser integration (https://mswjs.io/docs/integrations/browser) to eliminate any race conditions between the Service Worker registration and any requests made by your application on initial render.'),this.context.startOptions=je($r,t),Xt({getUnhandledRequestStrategy:()=>this.context.startOptions.onUnhandledRequest,getHandlers:()=>this.handlersController.currentHandlers(),onMockedConnection:r=>{this.context.startOptions.quiet||zt(r)},onPassthroughConnection(){}}),se.apply(),this.subscriptions.push(()=>{se.dispose()}),await this.startHandler(this.context.startOptions,t)}stop(){super.dispose(),this.context.events.removeAllListeners(),this.context.emitter.removeAllListeners(),this.stopHandler()}};function Ds(...e){return new fs(...e)}function ps(){F(typeof URL<"u",d.formatMessage(`Global "URL" class is not defined. This likely means that you're running MSW in an environment that doesn't support all Node.js standard API (e.g. React Native). If that's the case, please use an appropriate polyfill for the "URL" class, like "react-native-url-polyfill".`))}function gs(e,t){return e.toLowerCase()===t.toLowerCase()}function ms(e){return e<300?"#69AB32":e<400?"#F0BB4B":"#E95F5D"}async function ys(e){const r=await e.clone().text();return{url:new URL(e.url),method:e.method,headers:Object.fromEntries(e.headers.entries()),body:r}}const{message:ws}=Me;async function vs(e){const t=e.clone(),r=await t.text(),s=t.status||200,n=t.statusText||ws[s]||"OK";return{status:s,statusText:n,headers:Object.fromEntries(t.headers.entries()),body:r}}function tt(e){const t=Ae.parse(e),r={};for(const s in t)typeof t[s]<"u"&&(r[s]=t[s]);return r}function Ce(){return tt(document.cookie)}function bs(e){if(typeof document>"u"||typeof location>"u")return{};switch(e.credentials){case"same-origin":{const t=new URL(e.url);return location.origin===t.origin?Ce():{}}case"include":return Ce();default:return{}}}function Es(e){const t=e.headers.get("cookie"),r=t?tt(t):{},s=bs(e);for(const i in s)e.headers.append("cookie",Ae.serialize(i,s[i]));const n=He.getCookiesSync(e.url),o=Object.fromEntries(n.map(i=>[i.key,i.value]));for(const i of n)e.headers.append("cookie",i.toString());return{...s,...o,...r}}var k=(e=>(e.HEAD="HEAD",e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.OPTIONS="OPTIONS",e.DELETE="DELETE",e))(k||{});class ks extends N{constructor(t,r,s,n){super({info:{header:`${t} ${r}`,path:r,method:t},resolver:s,options:n}),this.checkRedundantQueryParameters()}checkRedundantQueryParameters(){const{method:t,path:r}=this.info;if(r instanceof RegExp||We(r)===r)return;jt(r).forEach((o,i)=>{}),d.warn(`Found a redundant usage of query parameters in the request handler URL for "${t} ${r}". Please match against a path instead and access query parameters using "new URL(request.url).searchParams" instead. Learn more: https://mswjs.io/docs/recipes/query-parameters`)}async parse(t){var o;const r=new URL(t.request.url),s=Nt(r,this.info.path,(o=t.resolutionContext)==null?void 0:o.baseUrl),n=Es(t.request);return{match:s,cookies:n}}predicate(t){const r=this.matchMethod(t.request.method),s=t.parsedResult.match.matches;return r&&s}matchMethod(t){return this.info.method instanceof RegExp?this.info.method.test(t):gs(this.info.method,t)}extendResolverArgs(t){var r;return{params:((r=t.parsedResult.match)==null?void 0:r.params)||{},cookies:t.parsedResult.cookies}}async log(t){const r=j(t.request.url),s=await ys(t.request),n=await vs(t.response),o=ms(n.status);console.groupCollapsed(d.formatMessage(`${L()} ${t.request.method} ${r} (%c${n.status} ${n.statusText}%c)`),`color:${o}`,"color:inherit"),console.log("Request",s),console.log("Handler:",this),console.log("Response",n),console.groupEnd()}}function E(e){return(t,r,s={})=>new ks(e,t,r,s)}const js={all:E(/.+/),head:E(k.HEAD),get:E(k.GET),post:E(k.POST),put:E(k.PUT),delete:E(k.DELETE),patch:E(k.PATCH),options:E(k.OPTIONS)},Rs="modulepreload",Ss=function(e,t){return new URL(e,t).href},Te={},Ws=function(t,r,s){let n=Promise.resolve();if(r&&r.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=Ss(c,s),c in Te)return;Te[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!s)for(let m=i.length-1;m>=0;m--){const y=i[m];if(y.href===c&&(!u||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":Rs,u||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),u)return new Promise((m,y)=>{g.addEventListener("load",m),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return n.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Ls=Symbol("bodyType");var Pe,Ie;class T extends(Ie=ct,Pe=Ls,Ie){constructor(r,s){const n=C(s);super(r,n);f(this,Pe);Pt(this,n)}static text(r,s){const n=C(s);return n.headers.has("Content-Type")||n.headers.set("Content-Type","text/plain"),n.headers.has("Content-Length")||n.headers.set("Content-Length",r?new Blob([r]).size.toString():"0"),new T(r,n)}static json(r,s){const n=C(s);n.headers.has("Content-Type")||n.headers.set("Content-Type","application/json");const o=JSON.stringify(r);return n.headers.has("Content-Length")||n.headers.set("Content-Length",o?new Blob([o]).size.toString():"0"),new T(o,n)}static xml(r,s){const n=C(s);return n.headers.has("Content-Type")||n.headers.set("Content-Type","text/xml"),new T(r,n)}static html(r,s){const n=C(s);return n.headers.has("Content-Type")||n.headers.set("Content-Type","text/html"),new T(r,n)}static arrayBuffer(r,s){const n=C(s);return n.headers.has("Content-Type")||n.headers.set("Content-Type","application/octet-stream"),r&&!n.headers.has("Content-Length")&&n.headers.set("Content-Length",r.byteLength.toString()),new T(r,n)}static formData(r,s){return new T(r,C(s))}}const qe=100,Cs=400,Ts=5;function qs(){return _e()?Ts:Math.floor(Math.random()*(Cs-qe)+qe)}async function Bs(e){let t;return t=qs(),new Promise(r=>setTimeout(r,t))}ps();export{T as H,Ws as _,Bs as d,js as h,Ds as s};
